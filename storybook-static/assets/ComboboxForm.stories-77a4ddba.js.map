{"version":3,"file":"ComboboxForm.stories-77a4ddba.js","sources":["../../src/components/ComboboxForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Check, ChevronsUpDown } from \"lucide-react\";\nimport { useForm } from \"react-hook-form\";\nimport * as z from \"zod\";\nimport { cn } from \"../utils/cn\";\nimport { Button } from \"./Button\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n} from \"./Command.primitives\";\nimport {\n  FormProvider,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"./Form.primitives\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"./Popover.primitives\";\nimport { toast } from \"./Toast.hooks\";\n\nconst languages = [\n  { label: \"English\", value: \"en\" },\n  { label: \"French\", value: \"fr\" },\n  { label: \"German\", value: \"de\" },\n  { label: \"Spanish\", value: \"es\" },\n  { label: \"Portuguese\", value: \"pt\" },\n  { label: \"Russian\", value: \"ru\" },\n  { label: \"Japanese\", value: \"ja\" },\n  { label: \"Korean\", value: \"ko\" },\n  { label: \"Chinese\", value: \"zh\" },\n] as const;\n\nconst FormSchema = z.object({\n  language: z.string({\n    required_error: \"Please select a language.\",\n  }),\n});\n\nexport default function ComboboxForm() {\n  const form = useForm<z.infer<typeof FormSchema>>({\n    resolver: zodResolver(FormSchema),\n  });\n\n  function onSubmit(data: z.infer<typeof FormSchema>) {\n    toast({\n      title: \"You submitted the following values:\",\n      description: (\n        <pre className=\"mt-2 w-[340px] rounded-md bg-slate-950 p-4\">\n          <code className=\"text-white\">{JSON.stringify(data, null, 2)}</code>\n        </pre>\n      ),\n    });\n  }\n\n  return (\n    <FormProvider {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <FormField\n          control={form.control}\n          name=\"language\"\n          render={({ field, fieldState }) => (\n            <FormItem className=\"flex flex-col\">\n              <FormLabel>Language</FormLabel>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <FormControl>\n                    <Button\n                      variant=\"outline\"\n                      role=\"combobox\"\n                      className={cn(\n                        \"justify-between\",\n                        !field.value && \"text-gray-500\",\n                        fieldState.error &&\n                          \"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-700\"\n                      )}\n                      ref={field.ref}\n                    >\n                      {field.value\n                        ? languages.find(\n                            (language) => language.value === field.value\n                          )?.label\n                        : \"Select language\"}\n                      <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n                    </Button>\n                  </FormControl>\n                </PopoverTrigger>\n                <PopoverContent className=\"p-0\" align=\"start\">\n                  <Command>\n                    <CommandInput placeholder=\"Search language...\" />\n                    <CommandEmpty>No language found.</CommandEmpty>\n                    <CommandGroup>\n                      {languages.map((language) => (\n                        <CommandItem\n                          value={language.label}\n                          key={language.value}\n                          onSelect={() => {\n                            // form.setValue(\"language\", language.value);\n                            field.onChange(language.value);\n                          }}\n                        >\n                          <Check\n                            className={cn(\n                              \"mr-2 h-4 w-4\",\n                              language.value === field.value\n                                ? \"opacity-100\"\n                                : \"opacity-0\"\n                            )}\n                          />\n                          {language.label}\n                        </CommandItem>\n                      ))}\n                    </CommandGroup>\n                  </Command>\n                </PopoverContent>\n              </Popover>\n              <FormDescription>\n                This is the language that will be used in the dashboard.\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <Button type=\"submit\">Submit</Button>\n      </form>\n    </FormProvider>\n  );\n}\n"],"names":["languages","FormSchema","z.object","z.string","ComboboxForm","form","useForm","zodResolver","onSubmit","data","toast","jsx","FormProvider","jsxs","FormField","field","fieldState","FormItem","FormLabel","Popover","PopoverTrigger","FormControl","Button","cn","_a","language","ChevronsUpDown","PopoverContent","Command","CommandInput","CommandEmpty","CommandGroup","CommandItem","Check","FormDescription","FormMessage"],"mappings":"0oCA2BA,MAAMA,EAAY,CAChB,CAAE,MAAO,UAAW,MAAO,IAAK,EAChC,CAAE,MAAO,SAAU,MAAO,IAAK,EAC/B,CAAE,MAAO,SAAU,MAAO,IAAK,EAC/B,CAAE,MAAO,UAAW,MAAO,IAAK,EAChC,CAAE,MAAO,aAAc,MAAO,IAAK,EACnC,CAAE,MAAO,UAAW,MAAO,IAAK,EAChC,CAAE,MAAO,WAAY,MAAO,IAAK,EACjC,CAAE,MAAO,SAAU,MAAO,IAAK,EAC/B,CAAE,MAAO,UAAW,MAAO,IAAK,CAClC,EAEMC,EAAaC,EAAS,CAC1B,SAAUC,EAAS,CACjB,eAAgB,2BAAA,CACjB,CACH,CAAC,EAED,SAAwBC,GAAe,CACrC,MAAMC,EAAOC,EAAoC,CAC/C,SAAUC,EAAYN,CAAU,CAAA,CACjC,EAED,SAASO,EAASC,EAAkC,CAC5CC,EAAA,CACJ,MAAO,sCACP,YACEC,EAAAA,IAAC,MAAI,CAAA,UAAU,6CACb,SAACA,EAAA,IAAA,OAAA,CAAK,UAAU,aAAc,cAAK,UAAUF,EAAM,KAAM,CAAC,CAAE,CAAA,EAC9D,CAAA,CAEH,CACH,CAEA,OACGE,EAAAA,IAAAC,EAAA,CAAc,GAAGP,EAChB,SAACQ,EAAAA,KAAA,OAAA,CAAK,SAAUR,EAAK,aAAaG,CAAQ,EAAG,UAAU,YACrD,SAAA,CAAAG,EAAA,IAACG,EAAA,CACC,QAAST,EAAK,QACd,KAAK,WACL,OAAQ,CAAC,CAAE,MAAAU,EAAO,WAAAC,CAChB,IAAA,OAAAH,OAAAA,OAACI,EAAS,CAAA,UAAU,gBAClB,SAAA,CAAAN,EAAAA,IAACO,GAAU,SAAQ,UAAA,CAAA,SAClBC,EACC,CAAA,SAAA,CAAAR,MAACS,EAAe,CAAA,QAAO,GACrB,SAAAT,MAACU,EACC,CAAA,SAAAR,EAAA,KAACS,EAAA,CACC,QAAQ,UACR,KAAK,WACL,UAAWC,EACT,kBACA,CAACR,EAAM,OAAS,gBAChBC,EAAW,OACT,wEACJ,EACA,IAAKD,EAAM,IAEV,SAAA,CAAAA,EAAM,OACHS,EAAAxB,EAAU,KACPyB,GAAaA,EAAS,QAAUV,EAAM,SADzC,YAAAS,EAEG,MACH,kBACJb,EAAAA,IAACe,EAAe,CAAA,UAAU,kCAAmC,CAAA,CAAA,CAAA,GAEjE,CACF,CAAA,QACCC,EAAe,CAAA,UAAU,MAAM,MAAM,QACpC,gBAACC,EACC,CAAA,SAAA,CAACjB,EAAAA,IAAAkB,EAAA,CAAa,YAAY,oBAAqB,CAAA,EAC/ClB,EAAAA,IAACmB,GAAa,SAAkB,oBAAA,CAAA,EAC/BnB,EAAA,IAAAoB,EAAA,CACE,SAAU/B,EAAA,IAAKyB,GACdZ,EAAA,KAACmB,EAAA,CACC,MAAOP,EAAS,MAEhB,SAAU,IAAM,CAERV,EAAA,SAASU,EAAS,KAAK,CAC/B,EAEA,SAAA,CAAAd,EAAA,IAACsB,EAAA,CACC,UAAWV,EACT,eACAE,EAAS,QAAUV,EAAM,MACrB,cACA,WACN,CAAA,CACF,EACCU,EAAS,KAAA,CAAA,EAdLA,EAAS,KAgBjB,CAAA,EACH,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EACAd,EAAAA,IAACuB,GAAgB,SAEjB,0DAAA,CAAA,QACCC,EAAY,EAAA,CAAA,EACf,EAAA,CAEJ,EACCxB,EAAA,IAAAW,EAAA,CAAO,KAAK,SAAS,SAAM,SAAA,CAAA,CAC9B,CAAA,CACF,CAAA,CAEJ"}