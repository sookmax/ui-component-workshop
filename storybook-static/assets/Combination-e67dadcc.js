import{_ as ee}from"./extends-98964cd2.js";import{r as a}from"./index-c4905b50.js";import{a as te,$ as re}from"./index-746ec687.js";import{b as D}from"./index-ad15057c.js";import{c as ne,_ as ae,u as oe,a as R,f as ce,z as ue,s as le,b as se,R as ie,e as de}from"./index-335037e7.js";const A="focusScope.autoFocusOnMount",x="focusScope.autoFocusOnUnmount",U={bubbles:!1,cancelable:!0},Me=a.forwardRef((e,t)=>{const{loop:r=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:b,...h}=e,[o,S]=a.useState(null),E=D(d),g=D(b),$=a.useRef(null),p=te(t,n=>S(n)),v=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(c){let n=function(i){if(v.paused||!o)return;const s=i.target;o.contains(s)?$.current=s:C($.current,{select:!0})},u=function(i){if(v.paused||!o)return;const s=i.relatedTarget;s!==null&&(o.contains(s)||C($.current,{select:!0}))},l=function(i){const s=document.activeElement;for(const f of i)f.removedNodes.length>0&&(o!=null&&o.contains(s)||C(o))};document.addEventListener("focusin",n),document.addEventListener("focusout",u);const m=new MutationObserver(l);return o&&m.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",n),document.removeEventListener("focusout",u),m.disconnect()}}},[c,o,v.paused]),a.useEffect(()=>{if(o){H.add(v);const n=document.activeElement;if(!o.contains(n)){const l=new CustomEvent(A,U);o.addEventListener(A,E),o.dispatchEvent(l),l.defaultPrevented||(fe(Ee(G(o)),{select:!0}),document.activeElement===n&&C(o))}return()=>{o.removeEventListener(A,E),setTimeout(()=>{const l=new CustomEvent(x,U);o.addEventListener(x,g),o.dispatchEvent(l),l.defaultPrevented||C(n??document.body,{select:!0}),o.removeEventListener(x,g),H.remove(v)},0)}}},[o,E,g,v]);const y=a.useCallback(n=>{if(!r&&!c||v.paused)return;const u=n.key==="Tab"&&!n.altKey&&!n.ctrlKey&&!n.metaKey,l=document.activeElement;if(u&&l){const m=n.currentTarget,[i,s]=ve(m);i&&s?!n.shiftKey&&l===s?(n.preventDefault(),r&&C(i,{select:!0})):n.shiftKey&&l===i&&(n.preventDefault(),r&&C(s,{select:!0})):l===m&&n.preventDefault()}},[r,c,v.paused]);return a.createElement(re.div,ee({tabIndex:-1},h,{ref:p,onKeyDown:y}))});function fe(e,{select:t=!1}={}){const r=document.activeElement;for(const c of e)if(C(c,{select:t}),document.activeElement!==r)return}function ve(e){const t=G(e),r=W(t,e),c=W(t.reverse(),e);return[r,c]}function G(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function W(e,t){for(const r of e)if(!me(r,{upTo:t}))return r}function me(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function he(e){return e instanceof HTMLInputElement&&"select"in e}function C(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&he(e)&&t&&e.select()}}const H=be();function be(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=K(e,t),e.unshift(t)},remove(t){var r;e=K(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function K(e,t){const r=[...e],c=r.indexOf(t);return c!==-1&&r.splice(c,1),r}function Ee(e){return e.filter(t=>t.tagName!=="A")}let M=0;function Be(){a.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:X()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:X()),M++,()=>{M===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(c=>c.remove()),M--}},[])}function X(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var j=ne(),B=function(){},P=a.forwardRef(function(e,t){var r=a.useRef(null),c=a.useState({onScrollCapture:B,onWheelCapture:B,onTouchMoveCapture:B}),d=c[0],b=c[1],h=e.forwardProps,o=e.children,S=e.className,E=e.removeScrollBar,g=e.enabled,$=e.shards,p=e.sideCar,v=e.noIsolation,y=e.inert,n=e.allowPinchZoom,u=e.as,l=u===void 0?"div":u,m=ae(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),i=p,s=oe([r,t]),f=R(R({},m),d);return a.createElement(a.Fragment,null,g&&a.createElement(i,{sideCar:j,removeScrollBar:E,shards:$,noIsolation:v,inert:y,setCallbacks:b,allowPinchZoom:!!n,lockRef:r}),h?a.cloneElement(a.Children.only(o),R(R({},f),{ref:s})):a.createElement(l,R({},f,{className:S,ref:s}),o))});P.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};P.classNames={fullWidth:ce,zeroRight:ue};var O=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return O=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{O=!1}var w=O?{passive:!1}:!1,$e=function(e){return e.tagName==="TEXTAREA"},z=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$e(e)&&r[t]==="visible")},Se=function(e){return z(e,"overflowY")},ge=function(e){return z(e,"overflowX")},Y=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var c=q(e,r);if(c){var d=Q(e,r),b=d[1],h=d[2];if(b>h)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},pe=function(e){var t=e.scrollTop,r=e.scrollHeight,c=e.clientHeight;return[t,r,c]},ye=function(e){var t=e.scrollLeft,r=e.scrollWidth,c=e.clientWidth;return[t,r,c]},q=function(e,t){return e==="v"?Se(t):ge(t)},Q=function(e,t){return e==="v"?pe(t):ye(t)},Ce=function(e,t){return e==="h"&&t==="rtl"?-1:1},we=function(e,t,r,c,d){var b=Ce(e,window.getComputedStyle(t).direction),h=b*c,o=r.target,S=t.contains(o),E=!1,g=h>0,$=0,p=0;do{var v=Q(e,o),y=v[0],n=v[1],u=v[2],l=n-u-b*y;(y||l)&&q(e,o)&&($+=l,p+=y),o=o.parentNode}while(!S&&o!==document.body||S&&(t.contains(o)||t===o));return(g&&(d&&$===0||!d&&h>$)||!g&&(d&&p===0||!d&&-h>p))&&(E=!0),E},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},V=function(e){return[e.deltaX,e.deltaY]},Z=function(e){return e&&"current"in e?e.current:e},Te=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Re=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fe=0,T=[];function ke(e){var t=a.useRef([]),r=a.useRef([0,0]),c=a.useRef(),d=a.useState(Fe++)[0],b=a.useState(function(){return le()})[0],h=a.useRef(e);a.useEffect(function(){h.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(d));var n=se([e.lockRef.current],(e.shards||[]).map(Z),!0).filter(Boolean);return n.forEach(function(u){return u.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),n.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(d))})}}},[e.inert,e.lockRef.current,e.shards]);var o=a.useCallback(function(n,u){if("touches"in n&&n.touches.length===2)return!h.current.allowPinchZoom;var l=N(n),m=r.current,i="deltaX"in n?n.deltaX:m[0]-l[0],s="deltaY"in n?n.deltaY:m[1]-l[1],f,I=n.target,F=Math.abs(i)>Math.abs(s)?"h":"v";if("touches"in n&&F==="h"&&I.type==="range")return!1;var k=Y(F,I);if(!k)return!0;if(k?f=F:(f=F==="v"?"h":"v",k=Y(F,I)),!k)return!1;if(!c.current&&"changedTouches"in n&&(i||s)&&(c.current=f),!f)return!0;var _=c.current||f;return we(_,u,n,_==="h"?i:s,!0)},[]),S=a.useCallback(function(n){var u=n;if(!(!T.length||T[T.length-1]!==b)){var l="deltaY"in u?V(u):N(u),m=t.current.filter(function(f){return f.name===u.type&&f.target===u.target&&Te(f.delta,l)})[0];if(m&&m.should){u.cancelable&&u.preventDefault();return}if(!m){var i=(h.current.shards||[]).map(Z).filter(Boolean).filter(function(f){return f.contains(u.target)}),s=i.length>0?o(u,i[0]):!h.current.noIsolation;s&&u.cancelable&&u.preventDefault()}}},[]),E=a.useCallback(function(n,u,l,m){var i={name:n,delta:u,target:l,should:m};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(s){return s!==i})},1)},[]),g=a.useCallback(function(n){r.current=N(n),c.current=void 0},[]),$=a.useCallback(function(n){E(n.type,V(n),n.target,o(n,e.lockRef.current))},[]),p=a.useCallback(function(n){E(n.type,N(n),n.target,o(n,e.lockRef.current))},[]);a.useEffect(function(){return T.push(b),e.setCallbacks({onScrollCapture:$,onWheelCapture:$,onTouchMoveCapture:p}),document.addEventListener("wheel",S,w),document.addEventListener("touchmove",S,w),document.addEventListener("touchstart",g,w),function(){T=T.filter(function(n){return n!==b}),document.removeEventListener("wheel",S,w),document.removeEventListener("touchmove",S,w),document.removeEventListener("touchstart",g,w)}},[]);var v=e.removeScrollBar,y=e.inert;return a.createElement(a.Fragment,null,y?a.createElement(b,{styles:Re(d)}):null,v?a.createElement(ie,{gapMode:"margin"}):null)}const Le=de(j,ke);var J=a.forwardRef(function(e,t){return a.createElement(P,R({},e,{ref:t,sideCar:Le}))});J.classNames=P.classNames;const Oe=J;export{Be as $,Oe as a,Me as b};
//# sourceMappingURL=Combination-e67dadcc.js.map
