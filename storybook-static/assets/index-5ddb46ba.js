import{_ as h}from"./extends-98964cd2.js";import{r as e}from"./index-c4905b50.js";import{$ as _,a as P}from"./index-027e524b.js";import{a as g,$ as x}from"./index-746ec687.js";import{$ as y}from"./index-ad15057c.js";import{$ as R}from"./index-b8d80492.js";import{$ as q}from"./index-9b5f736f.js";const C="Switch",[B,W]=y(C),[I,M]=B(C),T=e.forwardRef((t,d)=>{const{__scopeSwitch:c,name:o,checked:r,defaultChecked:f,required:s,disabled:a,value:b="on",onCheckedChange:p,...m}=t,[n,u]=e.useState(null),v=g(d,$=>u($)),l=e.useRef(!1),k=n?!!n.closest("form"):!0,[i=!1,S]=_({prop:r,defaultProp:f,onChange:p});return e.createElement(I,{scope:c,checked:i,disabled:a},e.createElement(x.button,h({type:"button",role:"switch","aria-checked":i,"aria-required":s,"data-state":w(i),"data-disabled":a?"":void 0,disabled:a,value:b},m,{ref:v,onClick:P(t.onClick,$=>{S(E=>!E),k&&(l.current=$.isPropagationStopped(),l.current||$.stopPropagation())})})),k&&e.createElement(N,{control:n,bubbles:!l.current,name:o,value:b,checked:i,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),H="SwitchThumb",A=e.forwardRef((t,d)=>{const{__scopeSwitch:c,...o}=t,r=M(H,c);return e.createElement(x.span,h({"data-state":w(r.checked),"data-disabled":r.disabled?"":void 0},o,{ref:d}))}),N=t=>{const{control:d,checked:c,bubbles:o=!0,...r}=t,f=e.useRef(null),s=R(c),a=q(d);return e.useEffect(()=>{const b=f.current,p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==c&&n){const u=new Event("click",{bubbles:o});n.call(b,c),b.dispatchEvent(u)}},[s,c,o]),e.createElement("input",h({type:"checkbox","aria-hidden":!0,defaultChecked:c},r,{tabIndex:-1,ref:f,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function w(t){return t?"checked":"unchecked"}const X=T,G=A;export{X as $,G as a};
//# sourceMappingURL=index-5ddb46ba.js.map
