import{j as p}from"./jsx-runtime-3cfe299f.js";import{r as o}from"./index-c4905b50.js";import{_ as v}from"./extends-98964cd2.js";import{a as S,$ as N}from"./index-5b9e656f.js";import{$ as D}from"./index-ad15057c.js";import{$ as M,a as _}from"./index-027e524b.js";import{$ as B,a as L}from"./index-fb849e38.js";import{$ as O}from"./index-440e70e1.js";import{C as A}from"./react-icons.esm-8b0861cc.js";import{c as C}from"./cn-ad0adaed.js";import{W as K}from"./WithLabel-75faedc6.js";const I="Checkbox",[F,ne]=D(I),[H,T]=F(I),V=o.forwardRef((e,a)=>{const{__scopeCheckbox:t,name:s,checked:l,defaultChecked:c,required:d,disabled:i,value:u="on",onCheckedChange:m,...g}=e,[n,h]=o.useState(null),P=S(a,r=>h(r)),x=o.useRef(!1),E=n?!!n.closest("form"):!0,[b=!1,k]=M({prop:l,defaultProp:c,onChange:m}),q=o.useRef(b);return o.useEffect(()=>{const r=n==null?void 0:n.form;if(r){const $=()=>k(q.current);return r.addEventListener("reset",$),()=>r.removeEventListener("reset",$)}},[n,k]),o.createElement(H,{scope:t,state:b,disabled:i},o.createElement(N.button,v({type:"button",role:"checkbox","aria-checked":f(b)?"mixed":b,"aria-required":d,"data-state":R(b),"data-disabled":i?"":void 0,disabled:i,value:u},g,{ref:P,onKeyDown:_(e.onKeyDown,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:_(e.onClick,r=>{k($=>f($)?!0:!$),E&&(x.current=r.isPropagationStopped(),x.current||r.stopPropagation())})})),E&&o.createElement(z,{control:n,bubbles:!x.current,name:s,value:u,checked:b,required:d,disabled:i,style:{transform:"translateX(-100%)"}}))}),W="CheckboxIndicator",X=o.forwardRef((e,a)=>{const{__scopeCheckbox:t,forceMount:s,...l}=e,c=T(W,t);return o.createElement(O,{present:s||f(c.state)||c.state===!0},o.createElement(N.span,v({"data-state":R(c.state),"data-disabled":c.disabled?"":void 0},l,{ref:a,style:{pointerEvents:"none",...e.style}})))}),z=e=>{const{control:a,checked:t,bubbles:s=!0,...l}=e,c=o.useRef(null),d=B(t),i=L(a);return o.useEffect(()=>{const u=c.current,m=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==t&&n){const h=new Event("click",{bubbles:s});u.indeterminate=f(t),n.call(u,f(t)?!1:t),u.dispatchEvent(h)}},[d,t,s]),o.createElement("input",v({type:"checkbox","aria-hidden":!0,defaultChecked:f(t)?!1:t},l,{tabIndex:-1,ref:c,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function f(e){return e==="indeterminate"}function R(e){return f(e)?"indeterminate":e?"checked":"unchecked"}const j=V,G=X,w=o.forwardRef(function({label:a,...t},s){if(a){const{className:l,...c}=t,d=`checkbox-${a.replace(/\s+/g,"_")}`;return p.jsx(K,{label:{children:a,htmlFor:d},location:"right",children:({className:i})=>p.jsx(y,{id:d,className:C(l,i),...c,ref:s})})}return p.jsx(y,{...t,ref:s})}),y=o.forwardRef(({className:e,...a},t)=>p.jsx(j,{ref:t,className:C("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-gray-200","text-white","data-[state=checked]:border-cyan-700 data-[state=checked]:bg-cyan-700 data-[state=checked]:animate-in data-[state=checked]:fade-in-0","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-700 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:p.jsx(G,{className:C("flex h-full w-full items-center justify-center text-current"),children:p.jsx(A,{className:"h-full w-full"})})}));y.displayName=j.displayName;try{w.displayName="Checkbox",w.__docgenInfo={description:"",displayName:"Checkbox",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}export{w as C};
//# sourceMappingURL=Checkbox-b034548e.js.map
