import{j as a}from"./jsx-runtime-3cfe299f.js";import{B as S}from"./Button-46a7bca9.js";import{I as v}from"./InputWithLabel-adc40e4f.js";import{r as t}from"./index-c4905b50.js";import{_ as f}from"./extends-98964cd2.js";import{a as g,$ as V}from"./index-027e524b.js";import{a as N,b as H,$ as K}from"./index-5b9e656f.js";import{$ as W}from"./index-ad15057c.js";import{$ as z,a as L,b as q,c as B,d as G}from"./Combination-d67dcb23.js";import{$ as U}from"./index-c7280168.js";import{$ as F,c as Z,a as J,b as Q}from"./index-128b895e.js";import{$ as j}from"./index-440e70e1.js";import{h as X}from"./index-335037e7.js";import{c as Y}from"./cn-ad0adaed.js";import"./Input-785f32be.js";import"./WithLabel-fc65b61c.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-07d1f67e.js";import"./index-9b5f736f.js";const A="Popover",[D,De]=W(A,[F]),E=F(),[ee,$]=D(A),te=e=>{const{__scopePopover:i,children:s,open:d,defaultOpen:c,onOpenChange:o,modal:r=!1}=e,n=E(i),l=t.useRef(null),[u,b]=t.useState(!1),[h=!1,p]=V({prop:d,defaultProp:c,onChange:o});return t.createElement(J,n,t.createElement(ee,{scope:i,contentId:U(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:t.useCallback(()=>p(_=>!_),[p]),hasCustomAnchor:u,onCustomAnchorAdd:t.useCallback(()=>b(!0),[]),onCustomAnchorRemove:t.useCallback(()=>b(!1),[]),modal:r},s))},oe="PopoverTrigger",ce=t.forwardRef((e,i)=>{const{__scopePopover:s,...d}=e,c=$(oe,s),o=E(s),r=N(i,c.triggerRef),n=t.createElement(K.button,f({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":T(c.open)},d,{ref:r,onClick:g(e.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?n:t.createElement(Q,f({asChild:!0},o),n)}),I="PopoverPortal",[re,ne]=D(I,{forceMount:void 0}),ae=e=>{const{__scopePopover:i,forceMount:s,children:d,container:c}=e,o=$(I,i);return t.createElement(re,{scope:i,forceMount:s},t.createElement(j,{present:s||o.open},t.createElement(z,{asChild:!0,container:c},d)))},m="PopoverContent",se=t.forwardRef((e,i)=>{const s=ne(m,e.__scopePopover),{forceMount:d=s.forceMount,...c}=e,o=$(m,e.__scopePopover);return t.createElement(j,{present:d||o.open},o.modal?t.createElement(ie,f({},c,{ref:i})):t.createElement(de,f({},c,{ref:i})))}),ie=t.forwardRef((e,i)=>{const s=$(m,e.__scopePopover),d=t.useRef(null),c=N(i,d),o=t.useRef(!1);return t.useEffect(()=>{const r=d.current;if(r)return X(r)},[]),t.createElement(L,{as:H,allowPinchZoom:!0},t.createElement(M,f({},e,{ref:c,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,r=>{var n;r.preventDefault(),o.current||(n=s.triggerRef.current)===null||n===void 0||n.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,r=>{const n=r.detail.originalEvent,l=n.button===0&&n.ctrlKey===!0,u=n.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:g(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1})})))}),de=t.forwardRef((e,i)=>{const s=$(m,e.__scopePopover),d=t.useRef(!1),c=t.useRef(!1);return t.createElement(M,f({},e,{ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r;if((r=e.onCloseAutoFocus)===null||r===void 0||r.call(e,o),!o.defaultPrevented){var n;d.current||(n=s.triggerRef.current)===null||n===void 0||n.focus(),o.preventDefault()}d.current=!1,c.current=!1},onInteractOutside:o=>{var r,n;(r=e.onInteractOutside)===null||r===void 0||r.call(e,o),o.defaultPrevented||(d.current=!0,o.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const l=o.target;((n=s.triggerRef.current)===null||n===void 0?void 0:n.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&c.current&&o.preventDefault()}}))}),M=t.forwardRef((e,i)=>{const{__scopePopover:s,trapFocus:d,onOpenAutoFocus:c,onCloseAutoFocus:o,disableOutsidePointerEvents:r,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:b,...h}=e,p=$(m,s),_=E(s);return q(),t.createElement(B,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:c,onUnmountAutoFocus:o},t.createElement(G,{asChild:!0,disableOutsidePointerEvents:r,onInteractOutside:b,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1)},t.createElement(Z,f({"data-state":T(p.open),role:"dialog",id:p.contentId},_,h,{ref:i,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function T(e){return e?"open":"closed"}const le=te,pe=ce,fe=ae,k=se,C=le,O=pe,P=t.forwardRef(({className:e,align:i="center",sideOffset:s=4,...d},c)=>a.jsx(fe,{children:a.jsx(k,{ref:c,align:i,sideOffset:s,className:Y("z-50 w-72 rounded-md border bg-white p-4 shadow-md outline-none",["data-[state=open]:animate-in","data-[state=open]:fade-in-0","data-[state=open]:zoom-in-95"],["data-[state=closed]:animate-out","data-[state=closed]:fade-out-0","data-[state=closed]:zoom-out-95"],["data-[side=bottom]:-enter-translate-y-2","data-[side=left]:enter-translate-x-2","data-[side=right]:-enter-translate-x-2","data-[side=top]:enter-translate-y-2"],e),...d})}));P.displayName=k.displayName;try{C.displayName="Popover",C.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{O.displayName="PopoverTrigger",O.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{P.displayName="PopoverContent",P.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}function ue(){return a.jsxs(C,{defaultOpen:!0,children:[a.jsx(O,{asChild:!0,children:a.jsx(S,{variant:"outline",children:"Open popover"})}),a.jsx(P,{className:"w-80",children:a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium leading-none",children:"Dimensions"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Set the dimensions for the layer."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsx(v,{input:{defaultValue:"100%",id:"width"},label:{htmlFor:"width",children:"Width",className:"w-[80px]"},location:"left"})}),a.jsx("div",{children:a.jsx(v,{input:{defaultValue:"300px",id:"maxWidth"},label:{htmlFor:"maxWidth",children:"Max. width",className:"w-[80px]"},location:"left"})}),a.jsx("div",{children:a.jsx(v,{input:{defaultValue:"25px",id:"height"},label:{htmlFor:"height",children:"Height",className:"w-[80px]"},location:"left"})}),a.jsx("div",{children:a.jsx(v,{input:{defaultValue:"none",id:"maxHeight"},label:{htmlFor:"maxHeight",children:"Max. height",className:"w-[80px]"},location:"left"})})]})]})})]})}const Ie={component:ue,parameters:{},tags:["autodocs"],decorators:[e=>a.jsx("div",{className:"flex w-full justify-center",children:a.jsx(e,{})})]},x={};var w,y,R;x.parameters={...x.parameters,docs:{...(w=x.parameters)==null?void 0:w.docs,source:{originalSource:"{}",...(R=(y=x.parameters)==null?void 0:y.docs)==null?void 0:R.source}}};const Me=["Default"];export{x as Default,Me as __namedExportsOrder,Ie as default};
//# sourceMappingURL=Popover1.stories-b298c47b.js.map
